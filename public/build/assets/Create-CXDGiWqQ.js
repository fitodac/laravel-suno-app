import{r as b,W as v,j as e,B as y}from"./app-BL5MU1ub.js";import{L as N}from"./Layout-VW-T7cWC.js";import{t as s}from"./translations-gWKnqGb7.js";import{u as w}from"./useGeneratePassword-xkxXDgaI.js";import{P}from"./PageHeader-DQJoiO78.js";import{P as C}from"./index-CkAPsS__.js";import{C as c}from"./index-BDdcsGcF.js";import{b as D}from"./chunk-34VS2GW4-DwknSBfU.js";import{b as n}from"./chunk-DBLREEYE-k5beFU79.js";import{d as u}from"./chunk-44JHHBS2-BriGgij3.js";import{s as _}from"./chunk-VMWQTXAV-CmOJJGNI.js";import{c as S}from"./chunk-KBN3H6OQ-CdYQgtAc.js";import"./useColorMode-BEg4eCOE.js";import"./chunk-3XVMTUU7-Dp_cF4cz.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./template.executive.config-JRgdiSJO.js";import"./chunk-XHQUSKIE-D4as8MM8.js";import"./Item-vlEXo0Zk.js";import"./FocusScope-Bl5fcGfa.js";import"./focusSafely-C6wh2g3D.js";import"./usePress-CYqZ7Kvo.js";import"./VisuallyHidden-8nf4bjXZ.js";import"./useFormValidationState-GSGWOKt_.js";import"./getChildNodes-BuxFdcox.js";import"./useDialog-BTerbq__.js";import"./useLabels-D90GRlDd.js";import"./chunk-6NL67ZRH-Bv4xzwpt.js";import"./index-BKyyixf6.js";import"./chunk-QXREVWCS-C6-bBqo7.js";import"./index-Cijx77Os.js";import"./chunk-NQM3AZQR-LXh0D-Rm.js";import"./useToggleState-dObIv4S-.js";import"./index-CsO-F6Sj.js";const U=({user:o})=>{const[p,x]=b.useState(!1),{generatePassword:f}=w(16),h=()=>{const a=f();r("password",a)},{data:i,setData:r,post:j,processing:l,errors:t,clearErrors:d}=v({name:"",lastname:"",username:"",email:"",password:"",role:3,status:"enabled",send_details:!0,basic_information:!0}),g=a=>{a.preventDefault(),j(route("dashboard.user.store",{user:o}),{preserveScroll:!0,onSuccess:m=>{m.props.flash&&m.props.flash.success&&y.success(s(m.props.flash.success))},onError:m=>console.log(m)})};return e.jsxs(e.Fragment,{children:[e.jsx(P,{title:o?s("Edit user"):s("Create user"),children:e.jsx("div",{className:"flex justify-end",children:e.jsx(n,{size:"sm",color:"primary",variant:"flat",startContent:e.jsx("i",{className:"ri-arrow-left-line"}),onPress:()=>window.history.back(),children:s("Back")})})}),e.jsx(C,{children:e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"max-w-md space-y-10 lg:max-w-3xl",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[s("Basic information"),e.jsx(u,{className:"flex-1"})]}),e.jsxs("div",{className:"grid gap-x-6 gap-y-5 lg:grid-cols-2",children:[e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Username"),variant:"faded",value:i.username,isInvalid:!!t.username,errorMessage:t.username,onKeyUp:()=>d("username"),isDisabled:l,onValueChange:a=>r("username",a)})}),e.jsx("fieldset",{}),e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Name"),variant:"faded",value:i.name,isInvalid:!!t.name,errorMessage:t.name,onKeyUp:()=>d("name"),isDisabled:l,onValueChange:a=>r("name",a)})}),e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Lastname"),variant:"faded",value:i.lastname,isInvalid:!!t.lastname,errorMessage:t.lastname,onKeyUp:()=>d("lastname"),isDisabled:l,onValueChange:a=>r("lastname",a)})}),e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Email"),variant:"faded",value:i.email,isInvalid:!!t.email,errorMessage:t.email,onKeyUp:()=>d("email"),isDisabled:l,onValueChange:a=>r("email",a)})}),e.jsxs("fieldset",{children:[e.jsx("label",{className:"text-small text-foreground-500 select-none",children:s("Role")}),e.jsxs(D,{fullWidth:!0,isDisabled:l,children:[e.jsx(n,{color:"primary",className:"text-xs",onPress:()=>r("role",3),variant:i.role===3?"solid":"flat",children:"User"}),e.jsx(n,{color:"primary",className:"text-xs",onPress:()=>r("role",2),variant:i.role===2?"solid":"flat",children:"Admin"}),e.jsx(n,{color:"primary",className:"text-xs",onPress:()=>r("role",1),variant:i.role===1?"solid":"flat",children:"Super Admin"})]})]})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[s("Security & status"),e.jsx(u,{className:"flex-1"})]}),e.jsxs("div",{className:"grid gap-x-6 lg:grid-cols-2",children:[e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Password"),variant:"faded",value:i.password,errorMessage:t.password,type:p?"text":"password",isInvalid:!!t.password,onKeyUp:()=>d("password"),description:s("The password must be at least 8 characters long"),endContent:e.jsx("button",{type:"button",tabIndex:-1,onClick:()=>x(!p),children:p?e.jsx("i",{className:"ri-eye-fill ri-lg text-primary"}):e.jsx("i",{className:"ri-eye-off-fill ri-lg text-zinc-400 dark:text-zinc-600"})}),isDisabled:l,onValueChange:a=>r("password",a)})}),e.jsx("div",{className:"pt-2 lg:pt-6",children:e.jsx(n,{size:"sm",color:"primary",variant:"ghost",className:"h-10 px-5",radius:"md",onPress:h,isDisabled:l,children:"Generate password"})}),e.jsxs("div",{className:"flex flex-col gap-y-1 pt-6",children:[e.jsx("label",{className:"text-small text-foreground-500 select-none",children:s("User status")}),e.jsx(_,{size:"sm","aria-label":"Remember me",value:"1",isDisabled:l,isSelected:i.status==="enabled",onValueChange:a=>r("status",a?"enabled":"disabled"),className:"mx-2",children:s("Is the user enabled?")})]})]})]}),e.jsxs("div",{className:"flex flex-col justify-between gap-4 pt-5 md:flex-row lg:gap-10",children:[e.jsx(S,{size:"sm",isSelected:i.send_details,onValueChange:a=>r("send_details",a),classNames:{base:"items-start",label:"-top-1 relative lg:-top-0.5"},isDisabled:l,children:e.jsx("div",{className:"text-sm text-ellipsis",children:s("Would you like to send the new user their account details via email?")})}),e.jsx(n,{type:"submit",color:"primary",className:"w-40",isLoading:l,children:s("Save")})]})]})})}),e.jsx("div",{className:"h-20"})]})};U.layout=o=>e.jsx(N,{children:o,pageTitle:`${s("User")} ${o.props.user&&o.props.user.username}`});export{U as Page,U as default};
