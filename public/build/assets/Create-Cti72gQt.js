import{r as b,W as v,j as e,B as y}from"./app-Xg3MWjUp.js";import{L as N}from"./Layout-Da2PjEPE.js";import{t as s}from"./translations-CBxNckOR.js";import{u as w}from"./useGeneratePassword-xkxXDgaI.js";import{P}from"./PageHeader-B53fTZgU.js";import{P as C}from"./index-BBhGX0Qn.js";import{C as c}from"./index-Bf0lN5A-.js";import{b as D}from"./chunk-34VS2GW4-BhZm4FlL.js";import{b as n}from"./chunk-DBLREEYE-kXYMn-PH.js";import{d as u}from"./chunk-44JHHBS2-BLNJPhDT.js";import{s as _}from"./chunk-VMWQTXAV-DD6Evupf.js";import{c as S}from"./chunk-KBN3H6OQ-qxOJiocu.js";import"./useColorMode-BDGS6CE1.js";import"./chunk-3XVMTUU7-Dp_cF4cz.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./template.executive.config-JRgdiSJO.js";import"./chunk-XHQUSKIE-BJ4pqTDI.js";import"./layout-jxVw8Mvo.js";import"./chunk-N2KXC5ZE-s7KBEtmC.js";import"./useDialog-B9TXiXAz.js";import"./useLabels-C083MLIf.js";import"./focusSafely-BGz0Gc4B.js";import"./isScrollable-BprAQSS1.js";import"./FocusScope-B94nuPOP.js";import"./VisuallyHidden-DUDGVDCO.js";import"./context-CiZxFy97.js";import"./chunk-6NL67ZRH-C6QNaIJW.js";import"./useOverlayTriggerState-CA95d7cI.js";import"./useMenuTriggerState-BXbxTzHL.js";import"./Item-CbXxQ6F7.js";import"./usePress-D8L0wOwc.js";import"./textSelection-CcPLNbaN.js";import"./useSyncRef-BzsjkglV.js";import"./getChildNodes-D9Y5kHi7.js";import"./chunk-WQVQ7P2I-D88hI9ES.js";import"./index-0WiR-nh7.js";import"./chunk-CIZQCQPA-C7Ey7jFP.js";import"./chunk-2GZPFWUB-DujZQCQ1.js";import"./useFocus-nnqdAYxR.js";import"./chunk-QXREVWCS-Bcc_oW-g.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./index-vhBEzfuR.js";import"./chunk-NQM3AZQR-DA4sNDJM.js";import"./useFocusable-DL-dGcJ1.js";import"./useField-DZWb07f-.js";import"./useLabel-iYy-tCn_.js";import"./useFormValidationState-DKcVms6Q.js";import"./useToggleState-B8OVgiR9.js";import"./index-BKmmPl89.js";const U=({user:o})=>{const[p,x]=b.useState(!1),{generatePassword:f}=w(16),h=()=>{const a=f();r("password",a)},{data:i,setData:r,post:j,processing:t,errors:l,clearErrors:m}=v({name:"",lastname:"",username:"",email:"",password:"",role:3,status:"enabled",send_details:!0,basic_information:!0}),g=a=>{a.preventDefault(),j(route("dashboard.user.store",{user:o}),{preserveScroll:!0,onSuccess:d=>{d.props.flash&&d.props.flash.success&&y.success(s(d.props.flash.success))},onError:d=>console.log(d)})};return e.jsxs(e.Fragment,{children:[e.jsx(P,{title:o?s("Edit user"):s("Create user"),children:e.jsx("div",{className:"flex justify-end",children:e.jsx(n,{size:"sm",color:"primary",variant:"flat",startContent:e.jsx("i",{className:"ri-arrow-left-line"}),onPress:()=>window.history.back(),children:s("Back")})})}),e.jsx(C,{children:e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"max-w-md space-y-10 lg:max-w-3xl",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[s("Basic information"),e.jsx(u,{className:"flex-1"})]}),e.jsxs("div",{className:"grid gap-x-6 gap-y-5 lg:grid-cols-2",children:[e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Username"),variant:"faded",value:i.username,isInvalid:!!l.username,errorMessage:l.username,onKeyUp:()=>m("username"),isDisabled:t,onValueChange:a=>r("username",a)})}),e.jsx("fieldset",{}),e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Name"),variant:"faded",value:i.name,isInvalid:!!l.name,errorMessage:l.name,onKeyUp:()=>m("name"),isDisabled:t,onValueChange:a=>r("name",a)})}),e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Lastname"),variant:"faded",value:i.lastname,isInvalid:!!l.lastname,errorMessage:l.lastname,onKeyUp:()=>m("lastname"),isDisabled:t,onValueChange:a=>r("lastname",a)})}),e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Email"),variant:"faded",value:i.email,isInvalid:!!l.email,errorMessage:l.email,onKeyUp:()=>m("email"),isDisabled:t,onValueChange:a=>r("email",a)})}),e.jsxs("fieldset",{children:[e.jsx("label",{className:"text-small text-foreground-500 select-none",children:s("Role")}),e.jsxs(D,{fullWidth:!0,isDisabled:t,children:[e.jsx(n,{color:"primary",className:"text-xs",onPress:()=>r("role",3),variant:i.role===3?"solid":"flat",children:"User"}),e.jsx(n,{color:"primary",className:"text-xs",onPress:()=>r("role",2),variant:i.role===2?"solid":"flat",children:"Admin"}),e.jsx(n,{color:"primary",className:"text-xs",onPress:()=>r("role",1),variant:i.role===1?"solid":"flat",children:"Super Admin"})]})]})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[s("Security & status"),e.jsx(u,{className:"flex-1"})]}),e.jsxs("div",{className:"grid gap-x-6 lg:grid-cols-2",children:[e.jsx("fieldset",{children:e.jsx(c,{isRequired:!0,label:s("Password"),variant:"faded",value:i.password,errorMessage:l.password,type:p?"text":"password",isInvalid:!!l.password,onKeyUp:()=>m("password"),description:s("The password must be at least 8 characters long"),endContent:e.jsx("button",{type:"button",tabIndex:-1,onClick:()=>x(!p),children:p?e.jsx("i",{className:"ri-eye-fill ri-lg text-primary"}):e.jsx("i",{className:"ri-eye-off-fill ri-lg text-zinc-400 dark:text-zinc-600"})}),isDisabled:t,onValueChange:a=>r("password",a)})}),e.jsx("div",{className:"pt-2 lg:pt-6",children:e.jsx(n,{size:"sm",color:"primary",variant:"ghost",className:"h-10 px-5",radius:"md",onPress:h,isDisabled:t,children:"Generate password"})}),e.jsxs("div",{className:"flex flex-col gap-y-1 pt-6",children:[e.jsx("label",{className:"text-small text-foreground-500 select-none",children:s("User status")}),e.jsx(_,{size:"sm","aria-label":"Remember me",value:"1",isDisabled:t,isSelected:i.status==="enabled",onValueChange:a=>r("status",a?"enabled":"disabled"),className:"mx-2",children:s("Is the user enabled?")})]})]})]}),e.jsxs("div",{className:"flex flex-col justify-between gap-4 pt-5 md:flex-row lg:gap-10",children:[e.jsx(S,{size:"sm",isSelected:i.send_details,onValueChange:a=>r("send_details",a),classNames:{base:"items-start",label:"-top-1 relative lg:-top-0.5"},isDisabled:t,children:e.jsx("div",{className:"text-sm text-ellipsis",children:s("Would you like to send the new user their account details via email?")})}),e.jsx(n,{type:"submit",color:"primary",className:"w-40",isLoading:t,children:s("Save")})]})]})})}),e.jsx("div",{className:"h-20"})]})};U.layout=o=>e.jsx(N,{children:o,pageTitle:`${s("User")} ${o.props.user&&o.props.user.username}`});export{U as Page,U as default};
