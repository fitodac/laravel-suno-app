import{r as j,W as g,j as e}from"./app-BL5MU1ub.js";import{t as s}from"./translations-gWKnqGb7.js";import{u as b}from"./index-CSy45WJ8.js";import{d as _}from"./chunk-44JHHBS2-BriGgij3.js";import{b as o}from"./chunk-DBLREEYE-k5beFU79.js";import{m as w,a as v,b as D,c as y,d as N}from"./chunk-P2T5LMDM-BpxBeVed.js";import{i as C}from"./chunk-GQQM5TNQ-DGMAOxey.js";import"./index-CsO-F6Sj.js";import"./index-BKyyixf6.js";import"./chunk-XHQUSKIE-D4as8MM8.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./chunk-6NL67ZRH-Bv4xzwpt.js";import"./useDialog-BTerbq__.js";import"./FocusScope-Bl5fcGfa.js";import"./focusSafely-C6wh2g3D.js";import"./VisuallyHidden-8nf4bjXZ.js";import"./useLabels-D90GRlDd.js";import"./getScrollParent-Ct0IpEud.js";import"./chunk-NQM3AZQR-LXh0D-Rm.js";import"./useFormValidationState-GSGWOKt_.js";import"./chunk-M3MASYO7-BWQptIre.js";const T=()=>{const{isOpen:n,onOpen:l,onClose:d,onOpenChange:m}=b(),a=j.useRef(null),{data:c,setData:p,delete:u,processing:f,reset:h,errors:i}=g({password:""}),x=t=>{t.preventDefault(),u(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>d(),onError:()=>{var r;return(r=a.current)==null?void 0:r.focus()},onFinish:()=>h()})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(_,{}),e.jsx(o,{color:"danger",variant:"light",onPress:l,children:s("Delete account")})]}),e.jsx(w,{size:"sm",isOpen:n,onOpenChange:m,isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsx(v,{children:t=>e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"pb-0",children:e.jsx("span",{className:"leading-tight select-none",children:s("delete-account-confirmation-title")})}),e.jsxs("form",{onSubmit:x,children:[e.jsxs(y,{children:[e.jsx("p",{className:"text-sm leading-tight select-none",children:s("delete-account-confirmation-message")}),e.jsx("div",{className:"space-y-1 mt-3",children:e.jsx(C,{ref:a,id:"password",type:"password",name:"password",label:s("Password"),value:c.password,errorMessage:i.password,isInvalid:!!i.password,onValueChange:r=>p("password",r)})})]}),e.jsxs(N,{className:"gap-x-4",children:[e.jsx(o,{fullWidth:!0,color:"default",variant:"ghost",onPress:t,children:s("Cancel")}),e.jsx(o,{fullWidth:!0,color:"danger",type:"submit",spinner:e.jsx("i",{className:"ri-loader-line ri-lg animate-spin"}),isLoading:f,children:s("Delete")})]})]})]})})})]})};export{T as DeleteAccount};
