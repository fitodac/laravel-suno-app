import{r as j,W as g,j as e}from"./app-Xg3MWjUp.js";import{t as s}from"./translations-CBxNckOR.js";import{u as b}from"./index-DsrA4Nwf.js";import{d as _}from"./chunk-44JHHBS2-BLNJPhDT.js";import{b as o}from"./chunk-DBLREEYE-kXYMn-PH.js";import{m as w,a as v,b as D,c as y,d as N}from"./chunk-P2T5LMDM-DNaWNLoN.js";import{i as C}from"./chunk-GQQM5TNQ-DAmXLs-3.js";import"./index-BKmmPl89.js";import"./index-0WiR-nh7.js";import"./chunk-N2KXC5ZE-s7KBEtmC.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./chunk-XHQUSKIE-BJ4pqTDI.js";import"./chunk-6NL67ZRH-C6QNaIJW.js";import"./useOverlayTriggerState-CA95d7cI.js";import"./FocusScope-B94nuPOP.js";import"./focusSafely-BGz0Gc4B.js";import"./VisuallyHidden-DUDGVDCO.js";import"./useDialog-B9TXiXAz.js";import"./useLabels-C083MLIf.js";import"./isScrollable-BprAQSS1.js";import"./context-CiZxFy97.js";import"./getScrollParent-BcD73RX6.js";import"./chunk-NQM3AZQR-DA4sNDJM.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFocusable-DL-dGcJ1.js";import"./useSyncRef-BzsjkglV.js";import"./useFocus-nnqdAYxR.js";import"./useField-DZWb07f-.js";import"./useLabel-iYy-tCn_.js";import"./useFormValidationState-DKcVms6Q.js";import"./chunk-M3MASYO7-CHsWdAdY.js";const oe=()=>{const{isOpen:n,onOpen:l,onClose:m,onOpenChange:d}=b(),i=j.useRef(null),{data:p,setData:c,delete:u,processing:f,reset:h,errors:a}=g({password:""}),x=t=>{t.preventDefault(),u(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>{var r;return(r=i.current)==null?void 0:r.focus()},onFinish:()=>h()})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(_,{}),e.jsx(o,{color:"danger",variant:"light",onPress:l,children:s("Delete account")})]}),e.jsx(w,{size:"sm",isOpen:n,onOpenChange:d,isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsx(v,{children:t=>e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"pb-0",children:e.jsx("span",{className:"leading-tight select-none",children:s("delete-account-confirmation-title")})}),e.jsxs("form",{onSubmit:x,children:[e.jsxs(y,{children:[e.jsx("p",{className:"text-sm leading-tight select-none",children:s("delete-account-confirmation-message")}),e.jsx("div",{className:"space-y-1 mt-3",children:e.jsx(C,{ref:i,id:"password",type:"password",name:"password",label:s("Password"),value:p.password,errorMessage:a.password,isInvalid:!!a.password,onValueChange:r=>c("password",r)})})]}),e.jsxs(N,{className:"gap-x-4",children:[e.jsx(o,{fullWidth:!0,color:"default",variant:"ghost",onPress:t,children:s("Cancel")}),e.jsx(o,{fullWidth:!0,color:"danger",type:"submit",spinner:e.jsx("i",{className:"ri-loader-line ri-lg animate-spin"}),isLoading:f,children:s("Delete")})]})]})]})})})]})};export{oe as DeleteAccount};
