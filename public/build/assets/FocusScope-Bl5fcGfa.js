import{r as h,R as L}from"./app-BL5MU1ub.js";import{g as Y,s as J,d as E,v as m,h as X}from"./focusSafely-C6wh2g3D.js";const Q=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Z=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function ee(t){if(Intl.Locale){let r=new Intl.Locale(t).maximize(),o=typeof r.getTextInfo=="function"?r.getTextInfo():r.textInfo;if(o)return o.direction==="rtl";if(r.script)return Q.has(r.script)}let e=t.split("-")[0];return Z.has(e)}const te=Symbol.for("react-aria.i18n.locale");function B(){let t=typeof window<"u"&&window[te]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:ee(t)?"rtl":"ltr"}}let k=B(),x=new Set;function z(){k=B();for(let t of x)t(k)}function re(){let t=Y(),[e,r]=h.useState(k);return h.useEffect(()=>(x.size===0&&window.addEventListener("languagechange",z),x.add(r),()=>{x.delete(r),x.size===0&&window.removeEventListener("languagechange",z)}),[]),t?{locale:"en-US",direction:"ltr"}:e}const ne=L.createContext(null);function oe(){let t=re();return h.useContext(ne)||t}const ae=Symbol.for("react-aria.i18n.locale"),ie=Symbol.for("react-aria.i18n.strings");let S;class _{getStringForLocale(e,r){let n=this.getStringsForLocale(r)[e];if(!n)throw new Error(`Could not find intl message ${e} in ${r} locale`);return n}getStringsForLocale(e){let r=this.strings[e];return r||(r=le(e,this.strings,this.defaultLocale),this.strings[e]=r),r}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let r=window[ae];if(S===void 0){let n=window[ie];if(!n)return null;S={};for(let a in n)S[a]=new _({[r]:n[a]},r)}let o=S==null?void 0:S[e];if(!o)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return o}constructor(e,r="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,o])=>o)),this.defaultLocale=r}}function le(t,e,r="en-US"){if(e[t])return e[t];let o=ce(t);if(e[o])return e[o];for(let n in e)if(n.startsWith(o+"-"))return e[n];return e[r]}function ce(t){return Intl.Locale?new Intl.Locale(t).language:t.split("-")[0]}const O=new Map,U=new Map;class ue{format(e,r){let o=this.strings.getStringForLocale(e,this.locale);return typeof o=="function"?o(r,this):o}plural(e,r,o="cardinal"){let n=r["="+e];if(n)return typeof n=="function"?n():n;let a=this.locale+":"+o,l=O.get(a);l||(l=new Intl.PluralRules(this.locale,{type:o}),O.set(a,l));let i=l.select(e);return n=r[i]||r.other,typeof n=="function"?n():n}number(e){let r=U.get(this.locale);return r||(r=new Intl.NumberFormat(this.locale),U.set(this.locale,r)),r.format(e)}select(e,r){let o=e[r]||e.other;return typeof o=="function"?o():o}constructor(e,r){this.locale=e,this.strings=r}}const V=new WeakMap;function de(t){let e=V.get(t);return e||(e=new _(t),V.set(t,e)),e}function fe(t,e){return e&&_.getGlobalDictionaryForPackage(e)||de(t)}function ye(t,e){let{locale:r}=oe(),o=fe(t,e);return h.useMemo(()=>new ue(r,o),[r,o])}function Se(t,e){let r=window.getComputedStyle(t),o=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return o&&e&&(o=t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth),o}function se(t){const e=J(t);if(!(t instanceof e.HTMLElement)&&!(t instanceof e.SVGElement))return!1;let{display:r,visibility:o}=t.style,n=r!=="none"&&o!=="hidden"&&o!=="collapse";if(n){const{getComputedStyle:a}=t.ownerDocument.defaultView;let{display:l,visibility:i}=a(t);n=l!=="none"&&i!=="hidden"&&i!=="collapse"}return n}function be(t,e){return!t.hasAttribute("hidden")&&!t.hasAttribute("data-react-aria-prevent-focus")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function G(t,e){return t.nodeName!=="#comment"&&se(t)&&be(t,e)&&(!t.parentElement||G(t.parentElement,t))}const j=L.createContext(null),I="react-aria-focus-scope-restore";let f=null;function Le(t){let{children:e,contain:r,restoreFocus:o,autoFocus:n}=t,a=h.useRef(null),l=h.useRef(null),i=h.useRef([]),{parentNode:$}=h.useContext(j)||{},c=h.useMemo(()=>new D({scopeRef:i}),[i]);E(()=>{let b=$||v.root;if(v.getTreeNode(b.scopeRef)&&f&&!C(f,b.scopeRef)){let s=v.getTreeNode(f);s&&(b=s)}b.addChild(c),v.addNode(c)},[c,$]),E(()=>{let b=v.getTreeNode(i);b&&(b.contain=!!r)},[r]),E(()=>{var b;let s=(b=a.current)===null||b===void 0?void 0:b.nextSibling,p=[],y=M=>M.stopPropagation();for(;s&&s!==l.current;)p.push(s),s.addEventListener(I,y),s=s.nextSibling;return i.current=p,()=>{for(let M of p)M.removeEventListener(I,y)}},[e]),me(i,o,r),he(i,r),Ne(i,o,r),ge(i,n),h.useEffect(()=>{const b=m(i.current?i.current[0]:void 0).activeElement;let s=null;if(g(b,i.current)){for(let p of v.traverse())p.scopeRef&&g(b,p.scopeRef.current)&&(s=p);s===v.getTreeNode(i)&&(f=s.scopeRef)}},[i]),E(()=>()=>{var b,s,p;let y=(p=(s=v.getTreeNode(i))===null||s===void 0||(b=s.parent)===null||b===void 0?void 0:b.scopeRef)!==null&&p!==void 0?p:null;(i===f||C(i,f))&&(!y||v.getTreeNode(y))&&(f=y),v.removeTreeNode(i)},[i]);let u=h.useMemo(()=>ve(i),[]),d=h.useMemo(()=>({focusManager:u,parentNode:c}),[c,u]);return L.createElement(j.Provider,{value:d},L.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:a}),e,L.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:l}))}function ve(t){return{focusNext(e={}){let r=t.current,{from:o,tabbable:n,wrap:a,accept:l}=e,i=o||m(r[0]).activeElement,$=r[0].previousElementSibling,c=T(r),u=w(c,{tabbable:n,accept:l},r);u.currentNode=g(i,r)?i:$;let d=u.nextNode();return!d&&a&&(u.currentNode=$,d=u.nextNode()),d&&N(d,!0),d},focusPrevious(e={}){let r=t.current,{from:o,tabbable:n,wrap:a,accept:l}=e,i=o||m(r[0]).activeElement,$=r[r.length-1].nextElementSibling,c=T(r),u=w(c,{tabbable:n,accept:l},r);u.currentNode=g(i,r)?i:$;let d=u.previousNode();return!d&&a&&(u.currentNode=$,d=u.previousNode()),d&&N(d,!0),d},focusFirst(e={}){let r=t.current,{tabbable:o,accept:n}=e,a=T(r),l=w(a,{tabbable:o,accept:n},r);l.currentNode=r[0].previousElementSibling;let i=l.nextNode();return i&&N(i,!0),i},focusLast(e={}){let r=t.current,{tabbable:o,accept:n}=e,a=T(r),l=w(a,{tabbable:o,accept:n},r);l.currentNode=r[r.length-1].nextElementSibling;let i=l.previousNode();return i&&N(i,!0),i}}}const K=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],$e=K.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";K.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const pe=K.join(':not([hidden]):not([tabindex="-1"]),');function T(t){return t[0].parentElement}function R(t){let e=v.getTreeNode(f);for(;e&&e.scopeRef!==t;){if(e.contain)return!1;e=e.parent}return!0}function he(t,e){let r=h.useRef(void 0),o=h.useRef(void 0);E(()=>{let n=t.current;if(!e){o.current&&(cancelAnimationFrame(o.current),o.current=void 0);return}const a=m(n?n[0]:void 0);let l=c=>{if(c.key!=="Tab"||c.altKey||c.ctrlKey||c.metaKey||!R(t)||c.isComposing)return;let u=a.activeElement,d=t.current;if(!d||!g(u,d))return;let b=T(d),s=w(b,{tabbable:!0},d);if(!u)return;s.currentNode=u;let p=c.shiftKey?s.previousNode():s.nextNode();p||(s.currentNode=c.shiftKey?d[d.length-1].nextElementSibling:d[0].previousElementSibling,p=c.shiftKey?s.previousNode():s.nextNode()),c.preventDefault(),p&&N(p,!0)},i=c=>{(!f||C(f,t))&&g(c.target,t.current)?(f=t,r.current=c.target):R(t)&&!F(c.target,t)?r.current?r.current.focus():f&&f.current&&A(f.current):R(t)&&(r.current=c.target)},$=c=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(a.activeElement&&R(t)&&!F(a.activeElement,t))if(f=t,a.body.contains(c.target)){var u;r.current=c.target,(u=r.current)===null||u===void 0||u.focus()}else f.current&&A(f.current)})};return a.addEventListener("keydown",l,!1),a.addEventListener("focusin",i,!1),n==null||n.forEach(c=>c.addEventListener("focusin",i,!1)),n==null||n.forEach(c=>c.addEventListener("focusout",$,!1)),()=>{a.removeEventListener("keydown",l,!1),a.removeEventListener("focusin",i,!1),n==null||n.forEach(c=>c.removeEventListener("focusin",i,!1)),n==null||n.forEach(c=>c.removeEventListener("focusout",$,!1))}},[t,e]),E(()=>()=>{o.current&&cancelAnimationFrame(o.current)},[o])}function H(t){return F(t)}function g(t,e){return!t||!e?!1:e.some(r=>r.contains(t))}function F(t,e=null){if(t instanceof Element&&t.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of v.traverse(v.getTreeNode(e)))if(r&&g(t,r.current))return!0;return!1}function xe(t){return F(t,f)}function C(t,e){var r;let o=(r=v.getTreeNode(e))===null||r===void 0?void 0:r.parent;for(;o;){if(o.scopeRef===t)return!0;o=o.parent}return!1}function N(t,e=!1){if(t!=null&&!e)try{X(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function q(t,e=!0){let r=t[0].previousElementSibling,o=T(t),n=w(o,{tabbable:e},t);n.currentNode=r;let a=n.nextNode();return e&&!a&&(o=T(t),n=w(o,{tabbable:!1},t),n.currentNode=r,a=n.nextNode()),a}function A(t,e=!0){N(q(t,e))}function ge(t,e){const r=L.useRef(e);h.useEffect(()=>{if(r.current){f=t;const o=m(t.current?t.current[0]:void 0);!g(o.activeElement,f.current)&&t.current&&A(t.current)}r.current=!1},[t])}function me(t,e,r){E(()=>{if(e||r)return;let o=t.current;const n=m(o?o[0]:void 0);let a=l=>{let i=l.target;g(i,t.current)?f=t:H(i)||(f=null)};return n.addEventListener("focusin",a,!1),o==null||o.forEach(l=>l.addEventListener("focusin",a,!1)),()=>{n.removeEventListener("focusin",a,!1),o==null||o.forEach(l=>l.removeEventListener("focusin",a,!1))}},[t,e,r])}function Ee(t){let e=v.getTreeNode(f);for(;e&&e.scopeRef!==t;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===t}function Ne(t,e,r){const o=h.useRef(typeof document<"u"?m(t.current?t.current[0]:void 0).activeElement:null);E(()=>{let n=t.current;const a=m(n?n[0]:void 0);if(!e||r)return;let l=()=>{(!f||C(f,t))&&g(a.activeElement,t.current)&&(f=t)};return a.addEventListener("focusin",l,!1),n==null||n.forEach(i=>i.addEventListener("focusin",l,!1)),()=>{a.removeEventListener("focusin",l,!1),n==null||n.forEach(i=>i.removeEventListener("focusin",l,!1))}},[t,r]),E(()=>{const n=m(t.current?t.current[0]:void 0);if(!e)return;let a=l=>{if(l.key!=="Tab"||l.altKey||l.ctrlKey||l.metaKey||!R(t)||l.isComposing)return;let i=n.activeElement;if(!g(i,t.current))return;let $=v.getTreeNode(t);if(!$)return;let c=$.nodeToRestore,u=w(n.body,{tabbable:!0});u.currentNode=i;let d=l.shiftKey?u.previousNode():u.nextNode();if((!c||!n.body.contains(c)||c===n.body)&&(c=void 0,$.nodeToRestore=void 0),(!d||!g(d,t.current))&&c){u.currentNode=c;do d=l.shiftKey?u.previousNode():u.nextNode();while(g(d,t.current));l.preventDefault(),l.stopPropagation(),d?N(d,!0):H(c)?N(c,!0):i.blur()}};return r||n.addEventListener("keydown",a,!0),()=>{r||n.removeEventListener("keydown",a,!0)}},[t,e,r]),E(()=>{const n=m(t.current?t.current[0]:void 0);if(!e)return;let a=v.getTreeNode(t);if(a){var l;return a.nodeToRestore=(l=o.current)!==null&&l!==void 0?l:void 0,()=>{let i=v.getTreeNode(t);if(!i)return;let $=i.nodeToRestore;if(e&&$&&(g(n.activeElement,t.current)||n.activeElement===n.body&&Ee(t))){let c=v.clone();requestAnimationFrame(()=>{if(n.activeElement===n.body){let u=c.getTreeNode(t);for(;u;){if(u.nodeToRestore&&u.nodeToRestore.isConnected){W(u.nodeToRestore);return}u=u.parent}for(u=c.getTreeNode(t);u;){if(u.scopeRef&&u.scopeRef.current&&v.getTreeNode(u.scopeRef)){let d=q(u.scopeRef.current,!0);W(d);return}u=u.parent}}})}}}},[t,e])}function W(t){t.dispatchEvent(new CustomEvent(I,{bubbles:!0,cancelable:!0}))&&N(t)}function w(t,e,r){let o=e!=null&&e.tabbable?pe:$e,n=m(t).createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var l;return!(e==null||(l=e.from)===null||l===void 0)&&l.contains(a)?NodeFilter.FILTER_REJECT:a.matches(o)&&G(a)&&(!r||g(a,r))&&(!(e!=null&&e.accept)||e.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(n.currentNode=e.from),n}class P{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,r,o){let n=this.fastMap.get(r??null);if(!n)return;let a=new D({scopeRef:e});n.addChild(a),a.parent=n,this.fastMap.set(e,a),o&&(a.nodeToRestore=o)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let r=this.fastMap.get(e);if(!r)return;let o=r.parent;for(let a of this.traverse())a!==r&&r.nodeToRestore&&a.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&g(a.nodeToRestore,r.scopeRef.current)&&(a.nodeToRestore=r.nodeToRestore);let n=r.children;o&&(o.removeChild(r),n.size>0&&n.forEach(a=>o&&o.addChild(a))),this.fastMap.delete(r.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let r of e.children)yield*this.traverse(r)}clone(){var e;let r=new P;var o;for(let n of this.traverse())r.addTreeNode(n.scopeRef,(o=(e=n.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&o!==void 0?o:null,n.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new D({scopeRef:null}),this.fastMap.set(null,this.root)}}class D{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let v=new P;export{oe as $,w as a,ue as b,_ as c,ye as d,Se as e,xe as f,Le as g};
