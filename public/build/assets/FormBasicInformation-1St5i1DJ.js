import{q as h,W as b,j as e,B as j}from"./app-Xg3MWjUp.js";import{t as r}from"./translations-CBxNckOR.js";import{C as d}from"./index-Bf0lN5A-.js";import{d as v}from"./chunk-44JHHBS2-BLNJPhDT.js";import{b as g}from"./chunk-34VS2GW4-BhZm4FlL.js";import{b as c}from"./chunk-DBLREEYE-kXYMn-PH.js";import{s as y}from"./chunk-VMWQTXAV-DD6Evupf.js";import"./chunk-NQM3AZQR-DA4sNDJM.js";import"./chunk-XHQUSKIE-BJ4pqTDI.js";import"./chunk-N2KXC5ZE-s7KBEtmC.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./index-0WiR-nh7.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFocusable-DL-dGcJ1.js";import"./focusSafely-BGz0Gc4B.js";import"./useSyncRef-BzsjkglV.js";import"./useFocus-nnqdAYxR.js";import"./useField-DZWb07f-.js";import"./useLabel-iYy-tCn_.js";import"./useLabels-C083MLIf.js";import"./useFormValidationState-DKcVms6Q.js";import"./chunk-3XVMTUU7-Dp_cF4cz.js";import"./chunk-6NL67ZRH-C6QNaIJW.js";import"./chunk-CIZQCQPA-C7Ey7jFP.js";import"./useToggleState-B8OVgiR9.js";import"./usePress-D8L0wOwc.js";import"./textSelection-CcPLNbaN.js";import"./context-CiZxFy97.js";import"./VisuallyHidden-DUDGVDCO.js";const Y=()=>{const{user:i,permission:u}=h().props,{data:l,setData:t,patch:p,processing:o,errors:a,clearErrors:n,isDirty:x}=b({id:i.id,name:i.name,lastname:i.lastname,username:i.username,email:i.email,role:i.roles?i.roles[0].id:null,status:i.status??"disabled",basic_information:!0}),f=s=>{s.preventDefault(),p(route("dashboard.user.update",{user:i}),{preserveScroll:!0,onSuccess:m=>{m.props.flash&&m.props.flash.success&&j.success(r(m.props.flash.success))},onError:m=>console.log(m)})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:f,children:e.jsxs("section",{className:"space-y-5",children:[e.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[r("Basic information"),e.jsx(v,{className:"flex-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-5",children:[e.jsx("fieldset",{children:e.jsx(d,{isRequired:!0,label:r("Name"),variant:"faded",value:l.name,isInvalid:!!a.name,errorMessage:a.name,onKeyUp:()=>n("name"),isDisabled:o,onValueChange:s=>t("name",s)})}),e.jsx("fieldset",{children:e.jsx(d,{isRequired:!0,label:r("Lastname"),variant:"faded",value:l.lastname,isInvalid:!!a.lastname,errorMessage:a.lastname,onKeyUp:()=>n("lastname"),isDisabled:o,onValueChange:s=>t("lastname",s)})}),e.jsx("fieldset",{children:e.jsx(d,{isRequired:!0,label:r("Username"),variant:"faded",value:l.username,isInvalid:!!a.username,errorMessage:a.username,onKeyUp:()=>n("username"),isDisabled:o,onValueChange:s=>t("username",s)})}),e.jsx("fieldset",{children:e.jsx(d,{isRequired:!0,label:r("Email"),variant:"faded",value:l.email,isInvalid:!!a.email,errorMessage:a.email,onKeyUp:()=>n("email"),isDisabled:o,onValueChange:s=>t("email",s)})}),u==="Super Admin Access"&&e.jsxs("fieldset",{className:"space-y-1",children:[e.jsx("label",{className:"text-small text-foreground select-none",children:r("Role")}),e.jsxs(g,{fullWidth:!0,size:"sm",isDisabled:o,children:[e.jsx(c,{color:"primary",className:"text-xs",onPress:()=>t("role",3),variant:l.role===3?"solid":"flat",children:"User"}),e.jsx(c,{color:"primary",className:"text-xs",onPress:()=>t("role",2),variant:l.role===2?"solid":"flat",children:"Admin"}),e.jsx(c,{color:"primary",className:"text-xs",onPress:()=>t("role",1),variant:l.role===1?"solid":"flat",children:"Super Admin"})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("label",{className:"text-small text-foreground select-none",children:r("User status")}),e.jsx(y,{size:"sm","aria-label":"Remember me",value:"1",isDisabled:o,isSelected:l.status==="enabled",onValueChange:s=>{t("status",s?"enabled":"disabled"),n("status")},className:"mx-2",children:r("Is the user enabled?")}),a.status&&e.jsx("span",{className:"text-tiny text-danger",children:a.status})]})]}),e.jsx("div",{className:"pt-5 flex justify-end",children:e.jsx(c,{type:"submit",color:"primary",className:"w-40",isLoading:o,isDisabled:!x,children:r("Save")})})]})})})};export{Y as FormBasicInformation};
