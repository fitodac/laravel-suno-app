import{q as h,W as b,j as e,B as j}from"./app-BL5MU1ub.js";import{t as r}from"./translations-gWKnqGb7.js";import{C as d}from"./index-BDdcsGcF.js";import{d as v}from"./chunk-44JHHBS2-BriGgij3.js";import{b as g}from"./chunk-34VS2GW4-DwknSBfU.js";import{b as c}from"./chunk-DBLREEYE-k5beFU79.js";import{s as y}from"./chunk-VMWQTXAV-CmOJJGNI.js";import"./chunk-NQM3AZQR-LXh0D-Rm.js";import"./chunk-XHQUSKIE-D4as8MM8.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./index-BKyyixf6.js";import"./useFormValidationState-GSGWOKt_.js";import"./focusSafely-C6wh2g3D.js";import"./useLabels-D90GRlDd.js";import"./chunk-3XVMTUU7-Dp_cF4cz.js";import"./chunk-6NL67ZRH-Bv4xzwpt.js";import"./usePress-CYqZ7Kvo.js";import"./VisuallyHidden-8nf4bjXZ.js";import"./useToggleState-dObIv4S-.js";const L=()=>{const{user:l,permission:u}=h().props,{data:i,setData:t,patch:p,processing:n,errors:a,clearErrors:o,isDirty:x}=b({id:l.id,name:l.name,lastname:l.lastname,username:l.username,email:l.email,role:l.roles?l.roles[0].id:null,status:l.status??"disabled",basic_information:!0}),f=s=>{s.preventDefault(),p(route("dashboard.user.update",{user:l}),{preserveScroll:!0,onSuccess:m=>{m.props.flash&&m.props.flash.success&&j.success(r(m.props.flash.success))},onError:m=>console.log(m)})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:f,children:e.jsxs("section",{className:"space-y-5",children:[e.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[r("Basic information"),e.jsx(v,{className:"flex-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-5",children:[e.jsx("fieldset",{children:e.jsx(d,{isRequired:!0,label:r("Name"),variant:"faded",value:i.name,isInvalid:!!a.name,errorMessage:a.name,onKeyUp:()=>o("name"),isDisabled:n,onValueChange:s=>t("name",s)})}),e.jsx("fieldset",{children:e.jsx(d,{isRequired:!0,label:r("Lastname"),variant:"faded",value:i.lastname,isInvalid:!!a.lastname,errorMessage:a.lastname,onKeyUp:()=>o("lastname"),isDisabled:n,onValueChange:s=>t("lastname",s)})}),e.jsx("fieldset",{children:e.jsx(d,{isRequired:!0,label:r("Username"),variant:"faded",value:i.username,isInvalid:!!a.username,errorMessage:a.username,onKeyUp:()=>o("username"),isDisabled:n,onValueChange:s=>t("username",s)})}),e.jsx("fieldset",{children:e.jsx(d,{isRequired:!0,label:r("Email"),variant:"faded",value:i.email,isInvalid:!!a.email,errorMessage:a.email,onKeyUp:()=>o("email"),isDisabled:n,onValueChange:s=>t("email",s)})}),u==="Super Admin Access"&&e.jsxs("fieldset",{className:"space-y-1",children:[e.jsx("label",{className:"text-small text-foreground select-none",children:r("Role")}),e.jsxs(g,{fullWidth:!0,size:"sm",isDisabled:n,children:[e.jsx(c,{color:"primary",className:"text-xs",onPress:()=>t("role",3),variant:i.role===3?"solid":"flat",children:"User"}),e.jsx(c,{color:"primary",className:"text-xs",onPress:()=>t("role",2),variant:i.role===2?"solid":"flat",children:"Admin"}),e.jsx(c,{color:"primary",className:"text-xs",onPress:()=>t("role",1),variant:i.role===1?"solid":"flat",children:"Super Admin"})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("label",{className:"text-small text-foreground select-none",children:r("User status")}),e.jsx(y,{size:"sm","aria-label":"Remember me",value:"1",isDisabled:n,isSelected:i.status==="enabled",onValueChange:s=>{t("status",s?"enabled":"disabled"),o("status")},className:"mx-2",children:r("Is the user enabled?")}),a.status&&e.jsx("span",{className:"text-tiny text-danger",children:a.status})]})]}),e.jsx("div",{className:"pt-5 flex justify-end",children:e.jsx(c,{type:"submit",color:"primary",className:"w-40",isLoading:n,isDisabled:!x,children:r("Save")})})]})})})};export{L as FormBasicInformation};
