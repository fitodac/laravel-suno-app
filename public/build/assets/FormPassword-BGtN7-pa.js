import{r as n,W as v,j as s,B as C}from"./app-BL5MU1ub.js";import{t as e}from"./translations-gWKnqGb7.js";import{C as f}from"./index-BDdcsGcF.js";import{d as N}from"./chunk-44JHHBS2-BriGgij3.js";import{b as P}from"./chunk-DBLREEYE-k5beFU79.js";import"./chunk-NQM3AZQR-LXh0D-Rm.js";import"./chunk-XHQUSKIE-D4as8MM8.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./index-BKyyixf6.js";import"./useFormValidationState-GSGWOKt_.js";import"./focusSafely-C6wh2g3D.js";import"./useLabels-D90GRlDd.js";import"./chunk-3XVMTUU7-Dp_cF4cz.js";import"./chunk-6NL67ZRH-Bv4xzwpt.js";const B=()=>{const[d,b]=n.useState(!1),[i,j]=n.useState(!1),m=n.useRef(null),w=n.useRef(null),{data:l,setData:c,put:g,reset:p,processing:o,errors:a,clearErrors:u,isDirty:h}=v({current_password:"",password:"",password_confirmation:""}),_=r=>{r.preventDefault(),g(route("password.update"),{preserveScroll:!0,onSuccess:t=>{p(),t.props.flash&&t.props.flash.success&&C.success(e(t.props.flash.success))},onError:t=>{var x,y;console.log(t),t.password&&(p("password","password_confirmation"),(x=m.current)==null||x.focus()),t.current_password&&(p("current_password"),(y=w.current)==null||y.focus())}})};return s.jsx(s.Fragment,{children:s.jsx("form",{onSubmit:_,children:s.jsxs("section",{className:"space-y-5",children:[s.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[e("Security"),s.jsx(N,{className:"flex-1"})]}),s.jsxs("div",{className:"grid gap-x-6 gap-y-5 lg:grid-cols-2",children:[s.jsx("fieldset",{children:s.jsx(f,{isRequired:!0,ref:w,label:e("Current Password"),variant:"faded",value:l.current_password,errorMessage:a.current_password,type:d?"text":"password",isInvalid:!!a.current_password,onKeyUp:()=>u("current_password"),description:e("The password must be at least 8 characters long"),endContent:s.jsx("button",{type:"button",tabIndex:-1,onClick:()=>b(!d),children:d?s.jsx("i",{className:"ri-eye-fill ri-lg text-primary"}):s.jsx("i",{className:"ri-eye-off-fill ri-lg text-zinc-400 dark:text-zinc-600"})}),isDisabled:o,onValueChange:r=>c("current_password",r)})}),s.jsx("fieldset",{}),s.jsx("fieldset",{children:s.jsx(f,{isRequired:!0,ref:m,label:e("New Password"),variant:"faded",value:l.password,errorMessage:a.password,type:i?"text":"password",isInvalid:!!a.password,onKeyUp:()=>u("password"),description:e("The password must be at least 8 characters long"),endContent:s.jsx("button",{type:"button",tabIndex:-1,onClick:()=>j(!i),children:i?s.jsx("i",{className:"ri-eye-fill ri-lg text-primary"}):s.jsx("i",{className:"ri-eye-off-fill ri-lg text-zinc-400 dark:text-zinc-600"})}),isDisabled:o,onValueChange:r=>c("password",r)})}),s.jsx("fieldset",{children:s.jsx(f,{isRequired:!0,label:e("Confirm Password"),variant:"faded",value:l.password_confirmation,errorMessage:a.password_confirmation,type:i?"text":"password",isInvalid:!!a.password_confirmation,onKeyUp:()=>u("password_confirmation"),isDisabled:o,onValueChange:r=>c("password_confirmation",r)})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(P,{type:"submit",color:"primary",className:"w-40",isLoading:o,isDisabled:!h,children:e("Save")})})]})})})};export{B as FormPassword};
