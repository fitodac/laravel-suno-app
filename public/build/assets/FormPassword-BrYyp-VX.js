import{q as w,r as g,W as b,j as s,B as y}from"./app-BL5MU1ub.js";import{t}from"./translations-gWKnqGb7.js";import{C as v}from"./index-BDdcsGcF.js";import{u as N}from"./useGeneratePassword-xkxXDgaI.js";import{d as P}from"./chunk-44JHHBS2-BriGgij3.js";import{b as n}from"./chunk-DBLREEYE-k5beFU79.js";import"./chunk-NQM3AZQR-LXh0D-Rm.js";import"./chunk-XHQUSKIE-D4as8MM8.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./index-BKyyixf6.js";import"./useFormValidationState-GSGWOKt_.js";import"./focusSafely-C6wh2g3D.js";import"./useLabels-D90GRlDd.js";import"./chunk-3XVMTUU7-Dp_cF4cz.js";import"./chunk-6NL67ZRH-Bv4xzwpt.js";const L=()=>{const{user:o}=w().props,[a,c]=g.useState(!1),{generatePassword:p}=N(16),m=()=>{const r=p();l("password",r)},{data:u,setData:l,put:f,processing:i,errors:d,clearErrors:x,isDirty:h}=b({id:o.id??null,password:"",security_information:!0}),j=r=>{r.preventDefault(),f(route("dashboard.user.update",{user:o}),{preserveScroll:!0,onSuccess:e=>{e.props.flash&&e.props.flash.success&&y.success(t(e.props.flash.success))},onError:e=>console.log(e)})};return s.jsx(s.Fragment,{children:s.jsx("form",{onSubmit:j,children:s.jsxs("section",{className:"space-y-5",children:[s.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[t("Security"),s.jsx(P,{className:"flex-1"})]}),s.jsxs("div",{className:"grid gap-x-6 lg:grid-cols-2",children:[s.jsx("fieldset",{children:s.jsx(v,{isRequired:!0,label:t("Password"),variant:"faded",value:u.password,errorMessage:d.password,type:a?"text":"password",isInvalid:!!d.password,onKeyUp:()=>x("password"),description:t("The password must be at least 8 characters long"),endContent:s.jsx("button",{type:"button",tabIndex:-1,onClick:()=>c(!a),children:a?s.jsx("i",{className:"ri-eye-fill ri-lg text-primary"}):s.jsx("i",{className:"ri-eye-off-fill ri-lg text-zinc-400 dark:text-zinc-600"})}),isDisabled:i,onValueChange:r=>l("password",r)})}),s.jsx("div",{className:"pt-2 lg:pt-6",children:s.jsx(n,{size:"sm",color:"primary",variant:"ghost",className:"h-10 px-5",radius:"md",onPress:m,isDisabled:i,children:"Generate password"})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(n,{type:"submit",color:"primary",className:"w-40",isLoading:i,isDisabled:!h,children:t("Save")})})]})})})};export{L as FormPassword};
