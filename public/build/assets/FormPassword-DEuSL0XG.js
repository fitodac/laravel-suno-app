import{r as n,W as v,j as s,B as C}from"./app-Xg3MWjUp.js";import{t as r}from"./translations-CBxNckOR.js";import{C as m}from"./index-Bf0lN5A-.js";import{d as N}from"./chunk-44JHHBS2-BLNJPhDT.js";import{b as P}from"./chunk-DBLREEYE-kXYMn-PH.js";import"./chunk-NQM3AZQR-DA4sNDJM.js";import"./chunk-XHQUSKIE-BJ4pqTDI.js";import"./chunk-N2KXC5ZE-s7KBEtmC.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./index-0WiR-nh7.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFocusable-DL-dGcJ1.js";import"./focusSafely-BGz0Gc4B.js";import"./useSyncRef-BzsjkglV.js";import"./useFocus-nnqdAYxR.js";import"./useField-DZWb07f-.js";import"./useLabel-iYy-tCn_.js";import"./useLabels-C083MLIf.js";import"./useFormValidationState-DKcVms6Q.js";import"./chunk-3XVMTUU7-Dp_cF4cz.js";import"./chunk-6NL67ZRH-C6QNaIJW.js";const O=()=>{const[d,b]=n.useState(!1),[i,j]=n.useState(!1),f=n.useRef(null),w=n.useRef(null),{data:l,setData:p,put:g,reset:c,processing:o,errors:a,clearErrors:u,isDirty:h}=v({current_password:"",password:"",password_confirmation:""}),_=e=>{e.preventDefault(),g(route("password.update"),{preserveScroll:!0,onSuccess:t=>{c(),t.props.flash&&t.props.flash.success&&C.success(r(t.props.flash.success))},onError:t=>{var x,y;console.log(t),t.password&&(c("password","password_confirmation"),(x=f.current)==null||x.focus()),t.current_password&&(c("current_password"),(y=w.current)==null||y.focus())}})};return s.jsx(s.Fragment,{children:s.jsx("form",{onSubmit:_,children:s.jsxs("section",{className:"space-y-5",children:[s.jsxs("div",{className:"font-medium flex gap-5 items-center",children:[r("Security"),s.jsx(N,{className:"flex-1"})]}),s.jsxs("div",{className:"grid gap-x-6 gap-y-5 lg:grid-cols-2",children:[s.jsx("fieldset",{children:s.jsx(m,{isRequired:!0,ref:w,label:r("Current Password"),variant:"faded",value:l.current_password,errorMessage:a.current_password,type:d?"text":"password",isInvalid:!!a.current_password,onKeyUp:()=>u("current_password"),description:r("The password must be at least 8 characters long"),endContent:s.jsx("button",{type:"button",tabIndex:-1,onClick:()=>b(!d),children:d?s.jsx("i",{className:"ri-eye-fill ri-lg text-primary"}):s.jsx("i",{className:"ri-eye-off-fill ri-lg text-zinc-400 dark:text-zinc-600"})}),isDisabled:o,onValueChange:e=>p("current_password",e)})}),s.jsx("fieldset",{}),s.jsx("fieldset",{children:s.jsx(m,{isRequired:!0,ref:f,label:r("New Password"),variant:"faded",value:l.password,errorMessage:a.password,type:i?"text":"password",isInvalid:!!a.password,onKeyUp:()=>u("password"),description:r("The password must be at least 8 characters long"),endContent:s.jsx("button",{type:"button",tabIndex:-1,onClick:()=>j(!i),children:i?s.jsx("i",{className:"ri-eye-fill ri-lg text-primary"}):s.jsx("i",{className:"ri-eye-off-fill ri-lg text-zinc-400 dark:text-zinc-600"})}),isDisabled:o,onValueChange:e=>p("password",e)})}),s.jsx("fieldset",{children:s.jsx(m,{isRequired:!0,label:r("Confirm Password"),variant:"faded",value:l.password_confirmation,errorMessage:a.password_confirmation,type:i?"text":"password",isInvalid:!!a.password_confirmation,onKeyUp:()=>u("password_confirmation"),isDisabled:o,onValueChange:e=>p("password_confirmation",e)})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(P,{type:"submit",color:"primary",className:"w-40",isLoading:o,isDisabled:!h,children:r("Save")})})]})})})};export{O as FormPassword};
