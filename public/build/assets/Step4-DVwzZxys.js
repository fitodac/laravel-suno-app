import{q as f,r as h,W as n,j as e}from"./app-Xg3MWjUp.js";import{c as j,a as b}from"./index.esm-DE0MeNoT.js";import{i as g}from"./chunk-GQQM5TNQ-DAmXLs-3.js";import{t as v}from"./chunk-ATAY3LCU-Ch8EfqI_.js";import{d as y}from"./chunk-44JHHBS2-BLNJPhDT.js";import{b as c}from"./chunk-DBLREEYE-kXYMn-PH.js";import"./chunk-NQM3AZQR-DA4sNDJM.js";import"./chunk-XHQUSKIE-BJ4pqTDI.js";import"./chunk-N2KXC5ZE-s7KBEtmC.js";import"./extend-tailwind-merge-DDA0jNcl.js";import"./index-0WiR-nh7.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFocusable-DL-dGcJ1.js";import"./focusSafely-BGz0Gc4B.js";import"./useSyncRef-BzsjkglV.js";import"./useFocus-nnqdAYxR.js";import"./useField-DZWb07f-.js";import"./useLabel-iYy-tCn_.js";import"./useLabels-C083MLIf.js";import"./useFormValidationState-DKcVms6Q.js";import"./chunk-M3MASYO7-CHsWdAdY.js";import"./chunk-6NL67ZRH-C6QNaIJW.js";const G=()=>{const{props:d}=f(),{song:s}=d,[l,p]=h.useState({title:null}),{data:a,setData:o,patch:m,processing:r}=n({title:s.title??"",details:s.details??"",step:5}),u=t=>{t.preventDefault(),D.validate(a,{abortEarly:!1}).then(()=>{m(route("song.update",{song:s}),{onSuccess:()=>{console.log("success")},onError:i=>console.log(i)})}).catch(i=>{p({title:i.toString().replace("ValidationError: ","")})})},{patch:x}=n({step:3});return e.jsxs("form",{onSubmit:u,className:"w-1/2 space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"Detalles personales"}),e.jsx("p",{className:"text-foreground-700 text-sm",children:"¿Qué detalles o características se deberían resaltar en la canción?"})]}),e.jsx("div",{children:e.jsx(g,{isRequired:!0,label:"Título",isDisabled:r,defaultValue:a.title,errorMessage:l.title??"",isInvalid:!!l.title,onValueChange:t=>o("title",t)})}),e.jsxs("div",{children:[e.jsx(v,{maxLength:125,isDisabled:r,defaultValue:a.details,label:"¿Para quién es la canción?",onValueChange:t=>o("details",t)}),e.jsxs("div",{className:"text-xs pt-1 flex justify-end",children:[a.details.length,"/125"]})]}),e.jsx(y,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx(c,{variant:"flat",isDisabled:r,onPress:()=>{x(route("song.update",{song:s}))},children:"Atrás"})}),e.jsx("div",{children:e.jsx(c,{color:"primary",type:"submit",isDisabled:r,children:"Siguiente"})})]})]})},D=j({title:b().required("Por favor, agrega un título a la canción")});export{G as Step4};
