import{l as Z,u as ee,g as R,i as ae,f as ie}from"./chunk-XHQUSKIE-D4as8MM8.js";import{r as u,j as P}from"./app-BL5MU1ub.js";import{$ as se,a as le,b as re,d as oe,C as ne}from"./chunk-KBN3H6OQ-CdYQgtAc.js";import{$ as te,a as de,c as ce}from"./focusSafely-C6wh2g3D.js";import{$ as ue}from"./chunk-NQM3AZQR-LXh0D-Rm.js";import{$ as ve}from"./VisuallyHidden-8nf4bjXZ.js";import{$ as fe,a as be,s as pe}from"./useFormValidationState-GSGWOKt_.js";function ge(e,s){let{isDisabled:r,name:d,validationBehavior:v="aria"}=e,{isInvalid:t,validationErrors:a,validationDetails:f}=s.displayValidation,{labelProps:b,fieldProps:i,descriptionProps:l,errorMessageProps:o}=ue({...e,labelElementType:"span",isInvalid:t,errorMessage:e.errorMessage||a});se.set(s,{name:d,descriptionId:l.id,errorMessageId:o.id,validationBehavior:v});let m=te(e,{labelable:!0}),{focusWithinProps:p}=ve({onBlurWithin:e.onBlur,onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange});return{groupProps:de(m,{role:"group","aria-disabled":r||void 0,...i,...p}),labelProps:b,descriptionProps:l,errorMessageProps:o,isInvalid:t,validationErrors:a,validationDetails:f}}function me(e={}){let[s,r]=ce(e.value,e.defaultValue||[],e.onChange),d=!!e.isRequired&&s.length===0,v=u.useRef(new Map),t=fe({...e,value:s}),a=t.displayValidation.isInvalid;var f;return{...t,value:s,setValue(i){e.isReadOnly||e.isDisabled||r(i)},isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isSelected(i){return s.includes(i)},addValue(i){e.isReadOnly||e.isDisabled||s.includes(i)||r(s.concat(i))},removeValue(i){e.isReadOnly||e.isDisabled||s.includes(i)&&r(s.filter(l=>l!==i))},toggleValue(i){e.isReadOnly||e.isDisabled||(s.includes(i)?r(s.filter(l=>l!==i)):r(s.concat(i)))},setInvalid(i,l){let o=new Map(v.current);l.isInvalid?o.set(i,l):o.delete(i),v.current=o,t.updateValidation(be(...o.values()))},validationState:(f=e.validationState)!==null&&f!==void 0?f:a?"invalid":null,isInvalid:a,isRequired:d}}function $e(e){var s,r;const d=Z(),{as:v,ref:t,classNames:a,children:f,label:b,radius:i,value:l,name:o,defaultValue:m,isInvalid:p,validationState:y,size:V="md",color:k="primary",orientation:h="vertical",lineThrough:N=!1,isDisabled:O=!1,validationBehavior:x=(s=d==null?void 0:d.validationBehavior)!=null?s:"aria",disableAnimation:I=(r=d==null?void 0:d.disableAnimation)!=null?r:!1,isReadOnly:j,isRequired:M,onValueChange:E,description:L,errorMessage:C,className:T,...$}=e,G=v||"div",z=typeof G=="string",S=ee(t),B=u.useMemo(()=>({...$,value:l,name:o,"aria-label":pe($["aria-label"],b),defaultValue:m,isRequired:M,isReadOnly:j,orientation:h,validationBehavior:x,isInvalid:y==="invalid"||p,onChange:le(e.onChange,E)}),[l,o,b,m,M,j,h,E,p,y,x,$["aria-label"],$]),n=me(B),{labelProps:W,groupProps:w,descriptionProps:_,errorMessageProps:F,validationErrors:D,validationDetails:U}=ge(B,n),H=u.useMemo(()=>({size:V,color:k,radius:i,lineThrough:N,isInvalid:n.isInvalid,isDisabled:O,disableAnimation:I,validationBehavior:x,groupState:n}),[V,k,i,N,O,I,x,n.value,n.isDisabled,n.isReadOnly,n.isInvalid,n.isSelected]),c=u.useMemo(()=>re({isRequired:M,isInvalid:n.isInvalid,disableAnimation:I}),[M,n.isInvalid,,I]),q=R(a==null?void 0:a.base,T),J=u.useCallback(()=>({ref:S,className:c.base({class:q}),...oe(w,ae($,{enabled:z}))}),[c,S,q,w,$]),K=u.useCallback(()=>({className:c.label({class:a==null?void 0:a.label}),...W}),[c,W,a==null?void 0:a.label]),Q=u.useCallback(()=>({className:c.wrapper({class:a==null?void 0:a.wrapper}),role:"presentation","data-orientation":h}),[c,h,a==null?void 0:a.wrapper]),X=u.useCallback((g={})=>({...g,..._,className:c.description({class:R(a==null?void 0:a.description,g==null?void 0:g.className)})}),[c,_,a==null?void 0:a.description]),Y=u.useCallback((g={})=>({...g,...F,className:c.errorMessage({class:R(a==null?void 0:a.errorMessage,g==null?void 0:g.className)})}),[c,F,a==null?void 0:a.errorMessage]);return{Component:G,children:f,label:b,context:H,description:L,isInvalid:n.isInvalid,errorMessage:typeof C=="function"?C({isInvalid:n.isInvalid,validationErrors:D,validationDetails:U}):C||(D==null?void 0:D.join(" ")),getGroupProps:J,getLabelProps:K,getWrapperProps:Q,getDescriptionProps:X,getErrorMessageProps:Y}}var A=ie((e,s)=>{const{children:r,context:d,label:v,description:t,isInvalid:a,errorMessage:f,getGroupProps:b,getLabelProps:i,getWrapperProps:l,getDescriptionProps:o,getErrorMessageProps:m}=$e({...e,ref:s}),p=u.useMemo(()=>f,[a]);return P.jsxs("div",{...b(),children:[v&&P.jsx("span",{...i(),children:v}),P.jsx("div",{...l(),children:P.jsx(ne,{value:d,children:r})}),a&&p?P.jsx("div",{...m(),children:p}):t?P.jsx("div",{...o(),children:t}):null]})});A.displayName="NextUI.CheckboxGroup";var Re=A;export{Re as c};
