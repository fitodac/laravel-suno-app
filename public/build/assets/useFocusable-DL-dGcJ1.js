import{r as l,a as s,h as $}from"./focusSafely-BGz0Gc4B.js";import{r as f,R as b}from"./app-Xg3MWjUp.js";import{$ as v}from"./useSyncRef-BzsjkglV.js";import{$ as p}from"./useFocus-nnqdAYxR.js";var x={},d={};function w(e,t,...r){var o;const n=`[Next UI]${t?` [${t}]`:" "}: ${e}`;if(!(typeof console>"u")&&!d[n]&&(d[n]=!0,((o=process==null?void 0:x)==null?void 0:o.NODE_ENV)!=="production"))return console.warn(n,r)}function E(e,t,r){let o=f.useRef(t),u=l(()=>{r&&r(o.current)});f.useEffect(()=>{var n;let a=e==null||(n=e.current)===null||n===void 0?void 0:n.form;return a==null||a.addEventListener("reset",u),()=>{a==null||a.removeEventListener("reset",u)}},[e,u])}function c(e){if(!e)return;let t=!0;return r=>{let o={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(o),t&&r.stopPropagation()}}function P(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:c(e.onKeyDown),onKeyUp:c(e.onKeyUp)}}}let g=b.createContext(null);function m(e){let t=f.useContext(g)||{};v(t,e);let{ref:r,...o}=t;return o}function F(e,t){let{focusProps:r}=p(e),{keyboardProps:o}=P(e),u=s(r,o),n=m(t),a=e.isDisabled?{}:n,i=f.useRef(e.autoFocus);return f.useEffect(()=>{i.current&&t.current&&$(t.current),i.current=!1},[t]),{focusableProps:s({...u,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},a)}}export{F as $,E as a,P as b,w};
