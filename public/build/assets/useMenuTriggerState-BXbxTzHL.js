import{t as oe,m as Mt,u as Kt,o as Tt}from"./chunk-N2KXC5ZE-s7KBEtmC.js";import{a as Lt,g as kt,b as V,e as S}from"./chunk-XHQUSKIE-BJ4pqTDI.js";import{a as It}from"./Item-CbXxQ6F7.js";import{c as de,b as Rt}from"./isScrollable-BprAQSS1.js";import{h as Ot,f as Nt,c as Ht}from"./getChildNodes-D9Y5kHi7.js";import{r as d,R as w,c as jt}from"./app-Xg3MWjUp.js";import{$ as Wt,a as zt,t as Vt,p as fe,b as be,c as Ut}from"./chunk-WQVQ7P2I-D88hI9ES.js";import{$ as qt,b as ve}from"./useOverlayTriggerState-CA95d7cI.js";import{u as Gt}from"./index-0WiR-nh7.js";import{c as Xt}from"./useDialog-B9TXiXAz.js";import{b as he}from"./focusSafely-BGz0Gc4B.js";function me(r,e,t){let{type:a}=r,{isOpen:o}=e;d.useEffect(()=>{t&&t.current&&Wt.set(t.current,e.close)});let s;a==="menu"?s=!0:a==="listbox"&&(s="listbox");let n=he();return{triggerProps:{"aria-haspopup":s,"aria-expanded":o,"aria-controls":o?n:null,onPress:e.toggle},overlayProps:{id:n}}}var Nr=oe({slots:{base:"w-full relative flex flex-col gap-1 p-1",list:"w-full flex flex-col gap-0.5 outline-none",emptyContent:["h-10","px-2","py-1.5","w-full","h-full","text-foreground-400","text-start"]}}),Hr=oe({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","subpixel-antialiased","outline-none","cursor-pointer","tap-highlight-transparent",...Lt,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:["border-small border-transparent hover:border-default data-[hover=true]:bg-default-100","data-[selectable=true]:focus:border-default data-[selectable=true]:focus:bg-default-100"]},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},showDivider:{true:{base:["mb-1.5","after:content-['']","after:absolute","after:-bottom-1","after:left-0","after:right-0","after:h-divider","after:bg-divider"]},false:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{base:"data-[hover=true]:transition-colors"}}},defaultVariants:{variant:"solid",color:"default",showDivider:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:["data-[hover=true]:bg-default","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"solid",color:"primary",class:{base:["data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"solid",color:"secondary",class:{base:["data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"solid",color:"success",class:{base:["data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"solid",color:"warning",class:{base:["data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"solid",color:"danger",class:{base:["data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"shadow",color:"default",class:{base:["data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:shadow-default/50 data-[selectable=true]:focus:bg-default data-[selectable=true]:focus:text-default-foreground"]}},{variant:"shadow",color:"primary",class:{base:["data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:shadow-primary/30 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"shadow",color:"secondary",class:{base:["data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"shadow",color:"success",class:{base:["data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"shadow",color:"warning",class:{base:["data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"shadow",color:"danger",class:{base:["data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"bordered",color:"default",class:{base:["data-[hover=true]:border-default","data-[selectable=true]:focus:border-default"]}},{variant:"bordered",color:"primary",class:{base:["data-[hover=true]:border-primary data-[hover=true]:text-primary","data-[selectable=true]:focus:border-primary data-[selectable=true]:focus:text-primary"]}},{variant:"bordered",color:"secondary",class:{base:["data-[hover=true]:border-secondary data-[hover=true]:text-secondary","data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary"]}},{variant:"bordered",color:"success",class:{base:["data-[hover=true]:border-success data-[hover=true]:text-success","data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success"]}},{variant:"bordered",color:"warning",class:{base:["data-[hover=true]:border-warning data-[hover=true]:text-warning","data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning"]}},{variant:"bordered",color:"danger",class:{base:["data-[hover=true]:border-danger data-[hover=true]:text-danger","data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger"]}},{variant:"flat",color:"default",class:{base:["data-[hover=true]:bg-default/40","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default/40","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"flat",color:"primary",class:{base:["data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary","data-[selectable=true]:focus:bg-primary/20 data-[selectable=true]:focus:text-primary"]}},{variant:"flat",color:"secondary",class:{base:["data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary","data-[selectable=true]:focus:bg-secondary/20 data-[selectable=true]:focus:text-secondary"]}},{variant:"flat",color:"success",class:{base:["data-[hover=true]:bg-success/20 data-[hover=true]:text-success","data-[selectable=true]:focus:bg-success/20 data-[selectable=true]:focus:text-success"]}},{variant:"flat",color:"warning",class:{base:["data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning","data-[selectable=true]:focus:bg-warning/20 data-[selectable=true]:focus:text-warning"]}},{variant:"flat",color:"danger",class:{base:["data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger","data-[selectable=true]:focus:bg-danger/20 data-[selectable=true]:focus:text-danger"]}},{variant:"faded",color:"default",class:{base:["data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"faded",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"faded",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"faded",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"faded",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"faded",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}},{variant:"light",color:"default",class:{base:["data-[hover=true]:text-default-500","data-[selectable=true]:focus:text-default-500"]}},{variant:"light",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"light",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"light",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"light",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"light",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}}]}),jr=oe({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});class Jt{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}getNextKey(e){for(e=this.collection.getKeyAfter(e);e!=null;){let t=this.collection.getItem(e);if(t.type==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyAfter(e)}return null}getPreviousKey(e){for(e=this.collection.getKeyBefore(e);e!=null;){let t=this.collection.getItem(e);if(t.type==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyBefore(e)}return null}findKey(e,t,a){let o=this.getItem(e);if(!o)return null;let s=o.getBoundingClientRect();do e=t(e),o=this.getItem(e);while(o&&a(s,o.getBoundingClientRect()));return e}isSameRow(e,t){return e.top===t.top||e.left!==t.left}isSameColumn(e,t){return e.left===t.left||e.top!==t.top}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,t=>this.getNextColumn(t,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,t=>this.getNextColumn(t,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();for(;e!=null;){let t=this.collection.getItem(e);if((t==null?void 0:t.type)==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;e!=null;){let t=this.collection.getItem(e);if(t.type==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyBefore(e)}return null}getItem(e){return e!==null?this.ref.current.querySelector(`[data-key="${CSS.escape(e.toString())}"]`):null}getKeyPageAbove(e){let t=this.ref.current,a=this.getItem(e);if(!a)return null;if(!de(t))return this.getFirstKey();let o=t.getBoundingClientRect(),s=a.getBoundingClientRect();if(this.orientation==="horizontal"){let n=o.x-t.scrollLeft,c=Math.max(0,s.x-n+s.width-o.width);for(;a&&s.x-n>c;)e=this.getKeyAbove(e),a=e==null?null:this.getItem(e),s=a==null?void 0:a.getBoundingClientRect()}else{let n=o.y-t.scrollTop,c=Math.max(0,s.y-n+s.height-o.height);for(;a&&s.y-n>c;)e=this.getKeyAbove(e),a=e==null?null:this.getItem(e),s=a==null?void 0:a.getBoundingClientRect()}return e??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,a=this.getItem(e);if(!a)return null;if(!de(t))return this.getLastKey();let o=t.getBoundingClientRect(),s=a.getBoundingClientRect();if(this.orientation==="horizontal"){let n=o.x-t.scrollLeft,c=Math.min(t.scrollWidth,s.x-n-s.width+o.width);for(;a&&s.x-n<c;)e=this.getKeyBelow(e),a=e==null?null:this.getItem(e),s=a==null?void 0:a.getBoundingClientRect()}else{let n=o.y-t.scrollTop,c=Math.min(t.scrollHeight,s.y-n-s.height+o.height);for(;a&&s.y-n<c;)e=this.getKeyBelow(e),a=e==null?null:this.getItem(e),s=a==null?void 0:a.getBoundingClientRect()}return e??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let a=this.collection,o=t||this.getFirstKey();for(;o!=null;){let s=a.getItem(o),n=s.textValue.slice(0,e.length);if(s.textValue&&this.collator.compare(n,e)===0)return o;o=this.getKeyBelow(o)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation,this.direction=t.direction,this.layout=t.layout||"stack"}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all";this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Wr(r){let{selectionManager:e,collection:t,disabledKeys:a,ref:o,keyboardDelegate:s}=r,n=Ot({usage:"search",sensitivity:"base"}),c=e.disabledBehavior,l=d.useMemo(()=>s||new Jt({collection:t,disabledKeys:a,disabledBehavior:c,ref:o,collator:n}),[s,t,a,o,n,c]),{collectionProps:u}=It({...r,ref:o,selectionManager:e,keyboardDelegate:l});return{listProps:u}}const ge=new WeakMap;function zr(r){let e=ge.get(r);if(e!=null)return e;e=0;let t=a=>{for(let o of a)o.type==="section"?t(Nt(o,r)):e++};return t(r),ge.set(r,e),e}var L=new WeakMap,h=[];function Yt(r,e=document.body){let t=new Set(r),a=new Set,o=l=>{for(let g of l.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))t.add(g);let u=g=>{const f=g.parentElement;if(t.has(g)||a.has(f)&&f.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let P of t)if(g.contains(P))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},i=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:u}),b=u(l);if(b===NodeFilter.FILTER_ACCEPT&&s(l),b!==NodeFilter.FILTER_REJECT){let g=i.nextNode();for(;g!=null;)s(g),g=i.nextNode()}},s=l=>{var u;let i=(u=L.get(l))!=null?u:0;l.getAttribute("aria-hidden")==="true"&&i===0||(i===0&&l.setAttribute("aria-hidden","true"),a.add(l),L.set(l,i+1))};h.length&&h[h.length-1].disconnect(),o(e);let n=new MutationObserver(l=>{for(let u of l)if(!(u.type!=="childList"||u.addedNodes.length===0)&&![...t,...a].some(i=>i.contains(u.target))){for(let i of u.removedNodes)i instanceof Element&&(t.delete(i),a.delete(i));for(let i of u.addedNodes)(i instanceof HTMLElement||i instanceof SVGElement)&&(i.dataset.liveAnnouncer==="true"||i.dataset.reactAriaTopLayer==="true")?t.add(i):i instanceof Element&&o(i)}});n.observe(e,{childList:!0,subtree:!0});let c={observe(){n.observe(e,{childList:!0,subtree:!0})},disconnect(){n.disconnect()}};return h.push(c),()=>{n.disconnect();for(let l of a){let u=L.get(l);u!=null&&(u===1?(l.removeAttribute("aria-hidden"),L.delete(l)):L.set(l,u-1))}c===h[h.length-1]?(h.pop(),h.length&&h[h.length-1].observe()):h.splice(h.indexOf(c),1)}}var Zt=(r,e,t)=>{const a=e==null?void 0:e.current;if(!a||!a.contains(r)){const o=document.querySelectorAll("body > span[data-focus-scope-start]");let s=[];if(o.forEach(n=>{s.push(n.nextElementSibling)}),s.length===1)return t.close(),!1}return!a||!a.contains(r)};const $e=typeof document<"u"?w.useLayoutEffect:()=>{};function Qt(r){const e=d.useRef(null);return $e(()=>{e.current=r},[r]),d.useCallback((...t)=>{const a=e.current;return a==null?void 0:a(...t)},[])}let pe=new Map;function _t(r,e){if(r===e)return r;let t=pe.get(r);if(t)return t(e),e;let a=pe.get(e);return a?(a(r),r):e}function er(...r){return(...e)=>{for(let t of r)typeof t=="function"&&t(...e)}}const R=r=>{var e;return(e=r==null?void 0:r.ownerDocument)!==null&&e!==void 0?e:document},E=r=>r&&"window"in r&&r.window===r?r:R(r).defaultView||window;function k(...r){let e={...r[0]};for(let t=1;t<r.length;t++){let a=r[t];for(let o in a){let s=e[o],n=a[o];typeof s=="function"&&typeof n=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?e[o]=er(s,n):(o==="className"||o==="UNSAFE_className")&&typeof s=="string"&&typeof n=="string"?e[o]=jt(s,n):o==="id"&&s&&n?e.id=_t(s,n):e[o]=n!==void 0?n:s}}return e}function tr(...r){return r.length===1?r[0]:e=>{for(let t of r)typeof t=="function"?t(e):t!=null&&(t.current=e)}}function rr(r){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>r.test(t.brand)))||r.test(window.navigator.userAgent)}function ar(r){var e;return typeof window<"u"&&window.navigator!=null?r.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function or(){return ar(/^Mac/i)}function sr(){return rr(/Android/i)}function nr(r){return r.mozInputSource===0&&r.isTrusted?!0:sr()&&r.pointerType?r.type==="click"&&r.buttons===1:r.detail===0&&!r.pointerType}function ur(r,e){const{triggerRef:t,popoverRef:a,showArrow:o,offset:s=7,crossOffset:n=0,scrollRef:c,shouldFlip:l,boundaryElement:u,isDismissable:i=!0,shouldCloseOnBlur:b=!0,placement:g="top",containerPadding:f,shouldCloseOnInteractOutside:P,isNonModal:N,isKeyboardDismissDisabled:H,updatePositionDeps:j=[],...G}=r,M=N??!0,{overlayProps:X,underlayProps:J}=qt({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:b,isDismissable:i,isKeyboardDismissDisabled:H,shouldCloseOnInteractOutside:P||(_=>Zt(_,t,e))},a),{overlayProps:Y,arrowProps:Z,placement:Q,updatePosition:x}=zt({...G,shouldFlip:l,crossOffset:n,targetRef:t,overlayRef:a,isOpen:e.isOpen,scrollRef:c,boundaryElement:u,containerPadding:f,placement:Vt(g),offset:o?s+3:s,onClose:M?e.close:()=>{}});return Gt(()=>{j.length&&x()},j),d.useEffect(()=>{if(e.isOpen&&!M&&a.current)return Yt([a.current])},[M,e.isOpen,a]),{popoverProps:k(X,Y),arrowProps:Z,underlayProps:J,placement:Q}}class lr{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function xe(r){let e=d.useRef({isFocused:!1,observer:null});$e(()=>{const a=e.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let t=Qt(a=>{r==null||r(a)});return d.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){e.current.isFocused=!0;let o=a.target,s=n=>{e.current.isFocused=!1,o.disabled&&t(new lr("blur",n)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};o.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&o.disabled){var n;(n=e.current.observer)===null||n===void 0||n.disconnect();let c=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),e.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function ir(r){let{isDisabled:e,onFocus:t,onBlur:a,onFocusChange:o}=r;const s=d.useCallback(l=>{if(l.target===l.currentTarget)return a&&a(l),o&&o(!1),!0},[a,o]),n=xe(s),c=d.useCallback(l=>{const u=R(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(t&&t(l),o&&o(!0),n(l))},[o,t,n]);return{focusProps:{onFocus:!e&&(t||o||a)?c:void 0,onBlur:!e&&(a||o)?s:void 0}}}let O=null,te=new Set,I=new Map,C=!1,re=!1;const cr={Tab:!0,Escape:!0};function se(r,e){for(let t of te)t(r,e)}function dr(r){return!(r.metaKey||!or()&&r.altKey||r.ctrlKey||r.key==="Control"||r.key==="Shift"||r.key==="Meta")}function U(r){C=!0,dr(r)&&(O="keyboard",se("keyboard",r))}function m(r){O="pointer",(r.type==="mousedown"||r.type==="pointerdown")&&(C=!0,se("pointer",r))}function ye(r){nr(r)&&(C=!0,O="virtual")}function we(r){r.target===window||r.target===document||(!C&&!re&&(O="virtual",se("virtual",r)),C=!1,re=!1)}function Pe(){C=!1,re=!0}function ae(r){if(typeof window>"u"||I.get(E(r)))return;const e=E(r),t=R(r);let a=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){C=!0,a.apply(this,arguments)},t.addEventListener("keydown",U,!0),t.addEventListener("keyup",U,!0),t.addEventListener("click",ye,!0),e.addEventListener("focus",we,!0),e.addEventListener("blur",Pe,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",m,!0),t.addEventListener("pointermove",m,!0),t.addEventListener("pointerup",m,!0)):(t.addEventListener("mousedown",m,!0),t.addEventListener("mousemove",m,!0),t.addEventListener("mouseup",m,!0)),e.addEventListener("beforeunload",()=>{Ee(r)},{once:!0}),I.set(e,{focus:a})}const Ee=(r,e)=>{const t=E(r),a=R(r);e&&a.removeEventListener("DOMContentLoaded",e),I.has(t)&&(t.HTMLElement.prototype.focus=I.get(t).focus,a.removeEventListener("keydown",U,!0),a.removeEventListener("keyup",U,!0),a.removeEventListener("click",ye,!0),t.removeEventListener("focus",we,!0),t.removeEventListener("blur",Pe,!1),typeof PointerEvent<"u"?(a.removeEventListener("pointerdown",m,!0),a.removeEventListener("pointermove",m,!0),a.removeEventListener("pointerup",m,!0)):(a.removeEventListener("mousedown",m,!0),a.removeEventListener("mousemove",m,!0),a.removeEventListener("mouseup",m,!0)),I.delete(t))};function fr(r){const e=R(r);let t;return e.readyState!=="loading"?ae(r):(t=()=>{ae(r)},e.addEventListener("DOMContentLoaded",t)),()=>Ee(r,t)}typeof document<"u"&&fr();function Ce(){return O!=="pointer"}const br=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function gr(r,e,t){var a;const o=typeof window<"u"?E(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?E(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,n=typeof window<"u"?E(t==null?void 0:t.target).HTMLElement:HTMLElement,c=typeof window<"u"?E(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return r=r||(t==null?void 0:t.target)instanceof o&&!br.has(t==null||(a=t.target)===null||a===void 0?void 0:a.type)||(t==null?void 0:t.target)instanceof s||(t==null?void 0:t.target)instanceof n&&(t==null?void 0:t.target.isContentEditable),!(r&&e==="keyboard"&&t instanceof c&&!cr[t.key])}function pr(r,e,t){ae(),d.useEffect(()=>{let a=(o,s)=>{gr(!!(t!=null&&t.isTextInput),o,s)&&r(Ce())};return te.add(a),()=>{te.delete(a)}},e)}function vr(r){let{isDisabled:e,onBlurWithin:t,onFocusWithin:a,onFocusWithinChange:o}=r,s=d.useRef({isFocusWithin:!1}),n=d.useCallback(u=>{s.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(s.current.isFocusWithin=!1,t&&t(u),o&&o(!1))},[t,o,s]),c=xe(n),l=d.useCallback(u=>{!s.current.isFocusWithin&&document.activeElement===u.target&&(a&&a(u),o&&o(!0),s.current.isFocusWithin=!0,c(u))},[a,o,c]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:n}}}function hr(r={}){let{autoFocus:e=!1,isTextInput:t,within:a}=r,o=d.useRef({isFocused:!1,isFocusVisible:e||Ce()}),[s,n]=d.useState(!1),[c,l]=d.useState(()=>o.current.isFocused&&o.current.isFocusVisible),u=d.useCallback(()=>l(o.current.isFocused&&o.current.isFocusVisible),[]),i=d.useCallback(f=>{o.current.isFocused=f,n(f),u()},[u]);pr(f=>{o.current.isFocusVisible=f,u()},[],{isTextInput:t});let{focusProps:b}=ir({isDisabled:a,onFocusChange:i}),{focusWithinProps:g}=vr({isDisabled:!a,onFocusWithinChange:i});return{isFocused:s,isFocusVisible:c,focusProps:a?g:b}}function Vr(r){var e,t,a;const o=kt(),[s,n]=Mt(r,fe.variantKeys),{as:c,ref:l,children:u,state:i,triggerRef:b,scrollRef:g,defaultOpen:f,onOpenChange:P,isOpen:N,isNonModal:H=!0,shouldFlip:j=!0,containerPadding:G=12,shouldBlockScroll:M=!1,isDismissable:X=!0,shouldCloseOnBlur:J,portalContainer:Y,updatePositionDeps:Z,dialogProps:Q,placement:x="top",triggerType:_="dialog",showArrow:W=!1,offset:it=7,crossOffset:ct=0,boundaryElement:dt,isKeyboardDismissDisabled:ft,shouldCloseOnInteractOutside:bt,motionProps:gt,className:pt,classNames:$,onClose:ne,...ue}=s,vt=c||"div",y=Kt(l),ht=d.useRef(null),z=d.useRef(!1),K=b||ht,mt=(t=(e=r.disableAnimation)!=null?e:o==null?void 0:o.disableAnimation)!=null?t:!1,$t=ve({isOpen:N,defaultOpen:f,onOpenChange:p=>{P==null||P(p),p||ne==null||ne()}}),v=i||$t,{popoverProps:le,underlayProps:ie,placement:D}=ur({triggerRef:K,isNonModal:H,popoverRef:y,placement:x,offset:it,scrollRef:g,isDismissable:X,shouldCloseOnBlur:J,boundaryElement:dt,crossOffset:ct,shouldFlip:j,containerPadding:G,updatePositionDeps:Z,isKeyboardDismissDisabled:ft,shouldCloseOnInteractOutside:bt},v),{triggerProps:A}=me({type:_},v,K),{isFocusVisible:xt,isFocused:yt,focusProps:wt}=hr(),B=d.useMemo(()=>fe({...n}),[Tt(n)]),Pt=V($==null?void 0:$.base,pt),Et=(p={})=>({ref:y,...k(le,ue,p),style:k(le.style,ue.style,p.style)}),Ct=(p={})=>({"data-slot":"base","data-open":S(v.isOpen),"data-focus":S(yt),"data-arrow":S(W),"data-focus-visible":S(xt),"data-placement":be(D,x),...k(wt,Q,p),className:B.base({class:V(Pt)}),style:{outline:"none"}}),Dt=d.useCallback((p={})=>({"data-slot":"content","data-open":S(v.isOpen),"data-arrow":S(W),"data-placement":be(D,x),className:B.content({class:V($==null?void 0:$.content,p.className)})}),[B,v.isOpen,W,D,x,$]),At=d.useMemo(()=>Ut(D,x)&&D||x,[D,x]),ce=d.useCallback(p=>{var F;let T;return p.pointerType==="touch"&&((r==null?void 0:r.backdrop)==="blur"||(r==null?void 0:r.backdrop)==="opaque")?T=setTimeout(()=>{z.current=!0},100):z.current=!0,(F=A.onPress)==null||F.call(A,p),()=>{clearTimeout(T)}},[A==null?void 0:A.onPress]),Bt=d.useCallback((p={},F=null)=>{const{isDisabled:T,...St}=p;return{"data-slot":"trigger","aria-haspopup":"dialog",...k(A,St),onPress:ce,isDisabled:T,className:B.trigger({class:V($==null?void 0:$.trigger,p.className),isTriggerDisabled:T}),ref:tr(F,K)}},[v,A,ce,K]),Ft=d.useCallback((p={})=>({"data-slot":"backdrop",className:B.backdrop({class:$==null?void 0:$.backdrop}),onClick:F=>{if(!z.current){F.preventDefault();return}v.close(),z.current=!1},...ie,...p}),[B,v.isOpen,$,ie]);return d.useEffect(()=>{if(v.isOpen&&(y!=null&&y.current))return Xt([y==null?void 0:y.current])},[v.isOpen,y]),{state:v,Component:vt,children:u,classNames:$,showArrow:W,triggerRef:K,placement:At,isNonModal:H,popoverRef:y,portalContainer:Y,isOpen:v.isOpen,onClose:v.close,disableAnimation:mt,shouldBlockScroll:M,backdrop:(a=r.backdrop)!=null?a:"transparent",motionProps:gt,getBackdropProps:Ft,getPopoverProps:Et,getTriggerProps:Bt,getDialogProps:Ct,getContentProps:Dt}}const q={prefix:String(Math.round(Math.random()*1e10)),current:0},De=w.createContext(q),mr=w.createContext(!1);let $r=!!(typeof window<"u"&&window.document&&window.document.createElement),ee=new WeakMap;function xr(r=!1){let e=d.useContext(De),t=d.useRef(null);if(t.current===null&&!r){var a,o;let s=(o=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(a=o.ReactCurrentOwner)===null||a===void 0?void 0:a.current;if(s){let n=ee.get(s);n==null?ee.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==n.state&&(e.current=n.id,ee.delete(s))}t.current=++e.current}return t.current}function yr(r){let e=d.useContext(De);e===q&&!$r&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=xr(!!r),a=`react-aria${e.prefix}`;return r||`${a}-${t}`}function wr(r){let e=w.useId(),[t]=d.useState(Ae()),a=t?"react-aria":`react-aria${q.prefix}`;return r||`${a}-${e}`}w.useId;function Pr(){return!1}function Er(){return!0}function Cr(r){return()=>{}}function Ae(){return typeof w.useSyncExternalStore=="function"?w.useSyncExternalStore(Cr,Pr,Er):d.useContext(mr)}var Dr=700;function Ur(){return Ae()||typeof window>"u"?!1:window.screen.width<=Dr}var Be={};Be={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Fe={};Fe={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Se={};Se={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Me={};Me={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Ke={};Ke={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Te={};Te={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Le={};Le={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var ke={};ke={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Ie={};Ie={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Re={};Re={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Oe={};Oe={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Ne={};Ne={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var He={};He={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var je={};je={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var We={};We={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var ze={};ze={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Ve={};Ve={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Ue={};Ue={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var qe={};qe={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Ge={};Ge={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Xe={};Xe={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Je={};Je={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Ye={};Ye={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Ze={};Ze={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Qe={};Qe={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var _e={};_e={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var et={};et={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var tt={};tt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var rt={};rt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var at={};at={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var ot={};ot={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var st={};st={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var nt={};nt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var ut={};ut={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var lt={};lt={"ar-AE":Be,"bg-BG":Fe,"cs-CZ":Se,"da-DK":Me,"de-DE":Ke,"el-GR":Te,"en-US":Le,"es-ES":ke,"et-EE":Ie,"fi-FI":Re,"fr-FR":Oe,"he-IL":Ne,"hr-HR":He,"hu-HU":je,"it-IT":We,"ja-JP":ze,"ko-KR":Ve,"lt-LT":Ue,"lv-LV":qe,"nb-NO":Ge,"nl-NL":Xe,"pl-PL":Je,"pt-BR":Ye,"pt-PT":Ze,"ro-RO":Qe,"ru-RU":_e,"sk-SK":et,"sl-SI":tt,"sr-SP":rt,"sv-SE":at,"tr-TR":ot,"uk-UA":st,"zh-CN":nt,"zh-TW":ut};function Ar(r){return r&&r.__esModule?r.default:r}function qr(r,e,t){let{type:a="menu",isDisabled:o,trigger:s="press"}=r,n=he(),{triggerProps:c,overlayProps:l}=me({type:a},e,t),u=f=>{if(!o&&!(s==="longPress"&&!f.altKey)&&t&&t.current)switch(f.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},i=Rt(Ar(lt),"@react-aria/menu"),{longPressProps:b}=Ht({isDisabled:o||s!=="longPress",accessibilityDescription:i.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),g={onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!o&&e.open(f.pointerType==="virtual"?"first":null)},onPress(f){f.pointerType==="touch"&&!o&&e.toggle()}};return delete c.onPress,{menuTriggerProps:{...c,...s==="press"?g:b,id:n,onKeyDown:u},menuProps:{...l,"aria-labelledby":n,autoFocus:e.focusStrategy||!0,onClose:e.close}}}function Gr(r){let e=ve(r),[t,a]=d.useState(null),[o,s]=d.useState([]),n=()=>{s([]),e.close()};return{focusStrategy:t,...e,open(u=null){a(u),e.open()},toggle(u=null){a(u),e.toggle()},close(){n()},expandedKeysStack:o,openSubmenu:(u,i)=>{s(b=>i>b.length?b:[...b.slice(0,i),u])},closeSubmenu:(u,i)=>{s(b=>b[i]===u?b.slice(0,i):b)}}}export{k as $,Wr as a,zr as b,Ur as c,jr as d,Nr as e,Gr as f,qr as g,Zt as h,Jt as i,Hr as m,Vr as u};
